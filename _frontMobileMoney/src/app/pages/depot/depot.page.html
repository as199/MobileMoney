<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>depot</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid fixed>
    <ion-row>
      <ion-col  size="12" size-xs="12" size-sm="10" size-md="6" size-lg="6" offset-lg="3" offset-sm="1" offset-md="3">
        <ion-segment value="emetteur">
          <ion-segment-button (click)="previous()" value="emetteur">
            <ion-label>Emetteur</ion-label>
          </ion-segment-button>
          <ion-segment-button (click)="next()" value="recepteur">
            <ion-label>Récepteur</ion-label>
          </ion-segment-button>
        </ion-segment>
      </ion-col>
      <ion-col  size="12" size-xs="12" size-sm="10" size-md="6" size-lg="6" offset-lg="3" offset-sm="1" offset-md="3">
        <form [formGroup]="credentials">
          <section *ngIf="etape">
            <ion-list>
      
              <section formGroupName="clientenvoi">
                <ion-item>
                  <ion-label position="floating">N° CNI</ion-label>
                  <ion-input type="text" class="form-control" formControlName="cni" ></ion-input>
                </ion-item>
                <ion-item>
                  <ion-label position="floating">Nom</ion-label>
                  <ion-input type="text" class="form-control"  formControlName="nom" ></ion-input>
                </ion-item>
                <ion-item>
                  <ion-label position="floating">Prenom</ion-label>
                  <ion-input type="text" class="form-control" formControlName="prenom"  ></ion-input>
                </ion-item>
                <ion-item>
                  <ion-label position="floating">Téléphone</ion-label>
                  <ion-input type="text" class="form-control" formControlName="telephone" ></ion-input>
                </ion-item>
              </section>
              <ion-item>
                <ion-label position="floating">Montant</ion-label>
                <ion-input type="number"  class="form-control" formControlName="montant" (change)="calculFrais()" ></ion-input>
              </ion-item>
              <ion-item class="frais">
                <ion-label position="floating">Frais</ion-label>
                <ion-input type="text" disabled  [value]="frais" class="form-control" ></ion-input>
              </ion-item>
      
            </ion-list>
            <ion-item class="total">
              <ion-label position="floating">Total</ion-label>
              <ion-input type="text" disabled  [value]="montantTotal" class="form-control" ></ion-input>
            </ion-item>
          </section>
          <section *ngIf="!etape">
            <ion-list formGroupName="clientRetrait">
              <ion-item>
                <ion-label position="floating">Prénom</ion-label>
                <ion-input type="text" class="form-control" formControlName="prenom"  ></ion-input>
              </ion-item>
              <ion-item>
                <ion-label position="floating">Nom</ion-label>
                <ion-input type="text" class="form-control" formControlName="nom" ></ion-input>
              </ion-item>
              <ion-item>
                <ion-label position="floating">Téléphone</ion-label>
                <ion-input type="text" class="form-control" formControlName="telephone"></ion-input>
              </ion-item>
            </ion-list>
            <section class="btn">
              <ion-button shape="round" class="suivant"  color="danger" expand="block" [disabled]="!credentials.valid" (click)="Create()" type="submit">Suivant</ion-button>
            </section>
          </section>
        </form>
      </ion-col>
    </ion-row>
  </ion-grid>

</ion-content>
